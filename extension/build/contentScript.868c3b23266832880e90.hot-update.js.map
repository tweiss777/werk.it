{"version":3,"file":"contentScript.868c3b23266832880e90.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AAFA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;;AACA;AACA;AAIA;AAEA;AACA;;AAGA;AAIA;AAIA;AAEA;AAIA;AAEA;AAEA;AAIA;AAKA;AAIA;AAGA;AACA;;AACA;AACA;;AAEA;AAEA;AACA;AAAA;AACA;;;;;;;;;;AAlFA;AAEA;AACA;AAuBA;;;;;;;;;;;;;;;;AC1BA;;;;;ACAA;AACA;AACA;AACA;AACA","sources":["webpack://werkit-chrome-extension/./src/pages/Content/index.js","webpack://werkit-chrome-extension/webpack/runtime/getFullHash","webpack://werkit-chrome-extension/webpack/runtime/node module decorator"],"sourcesContent":["let oldHref = document.location.href;\r\n\r\nconst matchUrls = /^https:\\/\\/www\\.linkedin.com\\/jobs\\/(collections|search).+/;\r\nconst jobData = {};\r\n\r\nwindow.onload = function () {\r\n  const config = {\r\n    childList: true,\r\n    subtree: true,\r\n  };\r\n\r\n  const bodyList = document.querySelector('body');\r\n\r\n  const observer = new MutationObserver(function (mutations) {\r\n    mutations.forEach(function (mutation) {\r\n      if (oldHref !== document.location.href) {\r\n        oldHref = document.location.href;\r\n        if (matchUrls.test(oldHref)) scrape();\r\n      }\r\n    });\r\n  });\r\n\r\n  scrape();\r\n  observer.observe(bodyList, config);\r\n};\r\n\r\nconst scrape = (event) => {\r\n  let timer;\r\n  const check = () => {\r\n    if (\r\n      document?.querySelector('#job-details').textContent.replace(/\\s/g, '')\r\n        .length\r\n    ) {\r\n      clearInterval(timer);\r\n      //   const card = document.querySelector(\r\n      //     '.jobs-details__main-content > div:first-child'\r\n      //   );\r\n\r\n\r\n      const activeJob = document.querySelector(\r\n        '.jobs-search-results-list__list-item--active'\r\n      );\r\n\r\n      const company = document.querySelector(\r\n        '.jobs-unified-top-card__company-name > a'\r\n      );\r\n\r\n      jobData.companyName = company.innerText;\r\n\r\n      jobData.companyUrl = activeJob?.querySelector(\r\n        'a[data-control-name=\"job_card_company_link\"]'\r\n      ).href;\r\n\r\n      jobData.companyLogo = activeJob?.getElementsByTagName('img')[0].src;\r\n\r\n      jobData.position = document.querySelector('.t-24').innerText;\r\n\r\n      const jobType = document.querySelector(\r\n        '.jobs-unified-top-card__workplace-type'\r\n      )?.innerText;\r\n\r\n      jobData.location =\r\n        document\r\n          .querySelector('.jobs-unified-top-card__bullet')\r\n          .textContent.trim() + (jobType ? ` (${jobType})` : '');\r\n\r\n      jobData.description = document\r\n        .querySelector('#job-details > span')\r\n        .textContent.trim();\r\n\r\n      jobData.source = activeJob\r\n        ?.querySelector('a.job-card-container__link')\r\n        .href.split('?')[0];\r\n    }\r\n  };\r\n  timer = setInterval(check, 120);\r\n};\r\n\r\nchrome.runtime.onMessage.addListener(\r\n    function(request, sender, sendResponse) {\r\n      if (request.action === \"get\")\r\n        sendResponse({got: jobData});\r\n    }\r\n  );\r\n","__webpack_require__.h = () => (\"1d1a379374a37ac2f5eb\")","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};"],"names":[],"sourceRoot":""}